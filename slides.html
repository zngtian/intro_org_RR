<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Emacs, Org-Mode, and Reproducible Research</title>
<meta name="author" content="(Zheng Tian)"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./reveal.js/css/reveal.css"/>

<link rel="stylesheet" href="./reveal.js/css/theme/beige.css" id="theme"/>

<link rel="stylesheet" href="./reveal.js/lib/css/zenburn.css"/>
<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = './reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h1 class="title">Emacs, Org-Mode, and Reproducible Research</h1><h2 class="author">Zheng Tian</h2><p class="date">Created: 2017-06-01 Thu 11:18</p>
</section>
<section id="table-of-contents">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#/slide-org2be7166">Introduction</a></li>
<li><a href="#/slide-org7b4dcb6">Emacs</a></li>
<li><a href="#/slide-org621f731">Org-Mode</a></li>
<li><a href="#/slide-org40c6602">Reproducible research with org-mode</a></li>
<li><a href="#/slide-org8970880">Collaboration with Git and Github</a></li>
<li><a href="#/slide-orga22723c">Miscellaneous</a></li>
</ul>
</div>
</div>
</section>


<section>
<section id="slide-org2be7166">
<h2 id="org2be7166">Introduction</h2>
<aside class="notes">
<ul>
<li>This workshop is to share my experience of using emacs and org mode
to document my research.</li>
<li>I have been using it for three years. But there were some back and
forth, abandoning it and picking it up again.</li>
<li>This workshop tries to help you have a quick start with emacs and
org mode, avoiding the zig-zag path I learned it.</li>

</ul>

</aside>

</section>
</section>
<section>
<section id="slide-orgec104f3">
<h3 id="orgec104f3">Have you ever experienced this?</h3>

<div class="figure">
<p><img src="figure/phdcomics.png" alt="phdcomics.png" width="600" height="600" />
</p>
</div>

<aside class="notes">
<ul>
<li>Briefly describe the comic.</li>
<li>Tell them my story in the ECIO model.
<ul>
<li>Write some code to solve a problem.</li>
<li>Document them in the python file very casually.</li>
<li>Write separate files for documentation, hard to read.</li>
<li>Leave followers (Xueting, Peter) hard to figure it out.</li>

</ul></li>

<li>Raise the question: IS THERE A GOOD WAY TO DOCUMENT CODE?
<ul>
<li>Easy to document</li>
<li>Combine the code and documentation with one file</li>

</ul></li>

</ul>

</aside>


</section>
</section>
<section>
<section id="slide-org153a632">
<h3 id="org153a632">Reproducible research</h3>
<blockquote nil>
<p>
An article about computational science in a scientific publication is
not the scholarship itself, it is merely advertising of the
scholarship. The actual scholarship is the complete software
development environment and the complete set of instructions which
generated the figures.
</p>

<p>
&#x2013; Buckheit and Donoho (1995)
</p>
</blockquote>

<aside class="notes">
<ul>
<li>Reflect the question raised. Answer is to do reproducible research.</li>
<li>The spirit of reproducible research is in the following quotation.</li>

</ul>

</aside>


</section>
</section>
<section>
<section id="slide-orgd6fe852">
<h3 id="orgd6fe852">How can we do reproducible research?</h3>

<div class="figure">
<p><img src="figure/emacs_startup.png" alt="emacs_startup.png" width="800" height="600" />
</p>
</div>

<aside class="notes">
<ul>
<li>HOW CAN WE IMPLEMENT REPRODUCIBLE RESEARCH?</li>
<li>This workshop introduces a very powerful and handy tool: Emacs and
its org-mode.</li>
<li>Describe the snapshot.</li>

</ul>

</aside>


</section>
</section>
<section>
<section id="slide-org7b4dcb6">
<h2 id="org7b4dcb6">Emacs</h2>
<div class="outline-text-2" id="text-org7b4dcb6">
</div></section>
</section>
<section>
<section id="slide-orgeb0562f">
<h3 id="orgeb0562f">What is Emacs? A text editor.</h3>
<p>
GNU Emacs is a free, portable, extensible text editor.
</p>

<dl>
<dt>Free</dt><dd>Open source, freely copyable and redistributable.</dd>
<dt>Portable</dt><dd>Run on many machines under different operating systems.</dd>
<dt>Extensible</dt><dd>Customizable for all aspect and have many contributed
packages.</dd>

</dl>


</section>
</section>
<section>
<section id="slide-org2d82ab3">
<h3 id="org2d82ab3">Emacs is beyond a text editor</h3>
<div class="outline-text-3" id="text-org2d82ab3">
</div></section>
<section id="slide-org2821a31">
<h4 id="org2821a31">Emacs is a LaTeX editor via AucTex</h4>

<div class="figure">
<p><img src="figure/auctex_example.png" alt="auctex_example.png" width="800" height="600" />
</p>
<p><span class="figure-number">Figure 3: </span>An illustration of the AucTex mode</p>
</div>

</section>
<section id="slide-org0f383a2">
<h4 id="org0f383a2">Emacs is IDE for programming languages</h4>
<ul>
<li>Edit code with syntax highlighting</li>
<li>Execute code within Emacs</li>

</ul>


<div class="figure">
<p><img src="figure/r_example.png" alt="r_example.png" width="800" height="600" />
</p>
<p><span class="figure-number">Figure 4: </span>An illustration of the ESS mode</p>
</div>

<aside class="notes">
<ul>
<li>Mention that emacs can also be the IDE for writing python, c/c++,
html.</li>
<li>Maybe show changing to python-mode in the <b>scratch</b> buffer.</li>

</ul>

</aside>

</section>
<section id="slide-org0dd7d36">
<h4 id="org0dd7d36">Emacs is an operating system</h4>

<div class="figure">
<p><img src="figure/dired_example.png" alt="dired_example.png" width="600" height="550" />
</p>
<p><span class="figure-number">Figure 5: </span>Emacs as an operating system with the dired mode</p>
</div>

</section>
<section id="slide-org7a3fdd1">
<h4 id="org7a3fdd1">Emacs is a Git tool via Magit</h4>

<div class="figure">
<p><img src="figure/magit_example.png" alt="magit_example.png" width="800" height="600" />
</p>
<p><span class="figure-number">Figure 6: </span>An illustration of the Magit mode</p>
</div>

</section>
<section id="slide-org1a74d77">
<h4 id="org1a74d77">Emacs can do many other things</h4>
<ul>
<li>Emacs can do spell checking, reading news, checking and sending
emails, etc., through plenty of contributed packages.</li>
<li>Most importantly, Emacs enable researchers to manage research
project, take notes, and write dynamic documentation.</li>

</ul>


</section>
</section>
<section>
<section id="slide-orgb91c376">
<h3 id="orgb91c376">Installation and Configuration</h3>
<div class="outline-text-3" id="text-orgb91c376">
</div></section>
<section id="slide-org2165297">
<h4 id="org2165297">Installation</h4>
<ul>
<li>Homepage of GNU Emacs: <a href="https://www.gnu.org/software/emacs/">https://www.gnu.org/software/emacs/</a></li>

<li>Vincent Goulet's binary files:
<a href="http://vgoulet.act.ulaval.ca/en/emacs/">http://vgoulet.act.ulaval.ca/en/emacs/</a></li>

</ul>

<aside class="notes">
<ul>
<li>I personally prefer the second option because it has already included
some of the mostly used packages.</li>
<li>Open the link in a new tab.</li>

</ul>

</aside>

</section>
<section id="slide-org1ff7c7d">
<h4 id="org1ff7c7d">Configuration</h4>
<p>
Emacs is customizable and all customized configuration can be done
with either a <code>.emacs</code> file or <code>init.el</code> under the directory
<code>~/.emacs.d</code>.
</p>

<p>
With some settings, we can use an org file to organize and apply your
customization.
</p>

</section>
<section id="slide-org63b158f">
<h4 id="org63b158f">My settings</h4>
<p>
All my settings have been uploaded to Github from where you can
download or
</p>

<div class="org-src-container">

<pre><code class="sh" >git clone https://github.com/zngtian/.emacs.d.git
</code></pre>
</div>

<ul class="org-ul"><li><a id="org46e8f42"></a>A sneak peek of my settings<br /><dl>
<dt>init.el</dt><dd><a href="https://github.com/zngtian/.emacs.d/blob/master/init.el">https://github.com/zngtian/.emacs.d/blob/master/init.el</a></dd>
<dt>myconfig.org</dt><dd><a href="https://github.com/zngtian/.emacs.d/blob/master/myconfig.org">https://github.com/zngtian/.emacs.d/blob/master/myconfig.org</a></dd>

</dl>

<aside class="notes">
<ul>
<li>Open the files in new tabs.</li>
<li>Tell them to change the paths and files names in myconfig.org.</li>

</ul>

</aside></li></ul>


</section>
</section>
<section>
<section id="slide-org1d2682c">
<h3 id="org1d2682c">Basic usage of Emacs</h3>
<div class="outline-text-3" id="text-org1d2682c">
</div></section>
<section id="slide-orgc52b5c8">
<h4 id="orgc52b5c8">Notation</h4>
<p>
In Emacs documentation, we often see the following notations
</p>

<dl>
<dt>C-x</dt><dd>Press Control key and x</dd>
<dt>M-x</dt><dd>Press Alt key and x</dd>
<dt>RET</dt><dd>Press the return key</dd>
<dt>SPC</dt><dd>Press the space bar</dd>
<dt>ESC</dt><dd>Press the escape key</dd>
<dt>S-&lt;TAB&gt;</dt><dd>Press shift and tab keys</dd>

</dl>

</section>
<section id="slide-org2b484cd">
<h4 id="org2b484cd">Buffer and windows</h4>
<p>
The basic user interface of Emacs uses buffers and windows.
</p>


<div class="figure">
<p><img src="figure/buffer_example.png" alt="buffer_example.png" width="900" height="550" />
</p>
<p><span class="figure-number">Figure 7: </span>An example of Emacs buffers and windows</p>
</div>

<aside class="notes">
<ul>
<li>Explain each part.</li>
<li>Demonstrate some operations on Emacs in this section.</li>

</ul>

</aside>

</section>
<section id="slide-org1fc3c5b">
<h4 id="org1fc3c5b">Motion within a buffer</h4>
<dl>
<dt>C-f and M-f</dt><dd>move forward by one character and by one word</dd>
<dt>C-b and M-b</dt><dd>move backward by one letter and by one word</dd>
<dt>C-n and C-p</dt><dd>move downward and upward</dd>
<dt>C-v and M-v</dt><dd>scroll down and up</dd>
<dt>M-&lt; and M-&gt;</dt><dd>move to the start and to the end of a buffer</dd>

</dl>

<aside class="notes">
<ul>
<li>Not to show these commands right now.</li>
<li>Demonstrate all these operations when showing the example via
mwe-log-commands.</li>

</ul>

</aside>

</section>
<section id="slide-orgc64ef18">
<h4 id="orgc64ef18">Switch buffers and windows</h4>
<dl>
<dt>C-x 2</dt><dd>open a new buffer</dd>
<dt>C-x 0</dt><dd>close the current buffer</dd>
<dt>C-x b</dt><dd>switch to a buffer</dd>
<dt>C-x o</dt><dd>switch between two opened buffers</dd>
<dt>C-x 4 b</dt><dd>switch to a buffer and open it as a new one</dd>
<dt>C-x 5 2 and C-x 5-0</dt><dd>open and close a new window</dd>

</dl>

</section>
<section id="slide-orgd50f302">
<h4 id="orgd50f302">Open, save, quit, and help</h4>
<dl>
<dt>C-x C-f</dt><dd>open a new file</dd>
<dt>C-x C-s</dt><dd>save the current buffer</dd>
<dt>C-x s</dt><dd>save all files</dd>
<dt>C-g</dt><dd>cancel the currently invoked command. VERY IMPORTANT!</dd>
<dt>C-x C-c</dt><dd>exit Emacs</dd>
<dt>C-h ?/m/a</dt><dd>get help</dd>

</dl>

</section>
<section id="slide-org6240d9e">
<h4 id="org6240d9e">Copy, yank, and delete</h4>
<dl>
<dt>C-SPC</dt><dd>set a mark and move the cursor around to select a region</dd>
<dt>C-w</dt><dd>kill (cut)</dd>
<dt>M-w</dt><dd>copy</dd>
<dt>C-y</dt><dd>yank (paste)</dd>
<dt>DEL and C-d</dt><dd>delete a character backward and forward</dd>
<dt>M-DEL and M-d</dt><dd>delete a word backward and forward</dd>
<dt>C-k</dt><dd>kill a line.</dd>
<dt>C-x u</dt><dd>undo the previous editing.</dd>

</dl>

</section>
<section id="slide-org47a4d16">
<h4 id="org47a4d16">Tutorial and cheat sheet</h4>
<dl>
<dt>C-h t</dt><dd>open the complete tutorial</dd>

<dt>A guided tour</dt><dd><a href="https://www.gnu.org/software/emacs/tour/">https://www.gnu.org/software/emacs/tour/</a></dd>

<dt>Cheat sheet</dt><dd><a href="https://www.gnu.org/software/emacs/refcards/pdf/refcard.pdf">https://www.gnu.org/software/emacs/refcards/pdf/refcard.pdf</a></dd>

</dl>


</section>
</section>
<section>
<section id="slide-org621f731">
<h2 id="org621f731">Org-Mode</h2>
<div class="outline-text-2" id="text-org621f731">
</div></section>
</section>
<section>
<section id="slide-org06f570b">
<h3 id="org06f570b">What is org-mode</h3>
<p>
Org mode is one of the most popular contributed packages in Emacs. It
can accomplish a variety of work including, but not limited to,
</p>

<ul>
<li>taking notes with structured documents,</li>
<li>assigning tasks and scheduling them,</li>
<li>editing tables and doing calculation,</li>
<li>exporting to pdf, html, odt files,</li>
<li><b>working with source code</b>.</li>

</ul>


</section>
</section>
<section>
<section id="slide-org268fb67">
<h3 id="org268fb67">Structured document</h3>
<aside class="notes">
<p>
This is the fundamental function of org mode.
</p>

</aside>

</section>
<section id="slide-org9d0b9e5">
<h4 id="org9d0b9e5">Headline</h4>
<pre class="example">
* Top level headline
** Second level
*** 3rd level
    some text
*** 3rd level
    more text

* Another top level headline
</pre>

<dl>
<dt>&lt;TAB&gt;</dt><dd>hit at a headline to see and hide the content under it</dd>
<dt>S-&lt;TAB&gt;</dt><dd>global cycling.</dd>
<dt>M-left and M-right</dt><dd>promote and demote a heading</dd>

</dl>

<aside class="notes">
<ul>
<li>Use org-bullets to make document structure look neat.</li>

</ul>

</aside>

</section>
<section id="slide-org0ce9396">
<h4 id="org0ce9396">Lists</h4>
<pre class="example">
- Unordered list
  + Item 1
  + Item 2
- Ordered list
  1. first thing
  2. second thing
  3. third thing
- Description
  - Tom :: a cat
  - Jerry :: a mouse
- List with check box [1/2]
  - [X] Do this
  - [ ] Do that
</pre>


</section>
</section>
<section>
<section id="slide-org45665b7">
<h3 id="org45665b7">Special elements</h3>
<div class="outline-text-3" id="text-org45665b7">
</div></section>
<section id="slide-org5762428">
<h4 id="org5762428">Links</h4>
<ul>
<li><p>
The basic syntax for a link:
</p>
<pre class="example">
[[link][description]] or [[link]]
</pre></li>

<li><p>
Internal link: <a href="#/slide-org0ce9396">Lists</a>
</p>
<pre class="example">
[[Lists]]
</pre></li>

<li><p>
External link: <a href="slides.tex">slides.tex</a>
</p>
<pre class="example">
[[file:slides.tex]]
</pre></li>

<li><p>
URL: <a href="http://rri.wvu.edu/">http://rri.wvu.edu/</a>
</p>
<pre  class="example">
[[http://rri.wvu.edu/]]
</pre></li>

</ul>


<aside class="notes">
<ul>
<li>Use C-c l to save a link, and C-c C-l to insert the saved link.</li>

</ul>

</aside>

</section>
<section id="slide-orge0158eb">
<h4 id="orge0158eb">Blocks</h4>
<ul>
<li>Blocks are defined by <code>#+BEGIN_... and #+END_...</code></li>

<li><p>
The CENTER block
</p>

<div class="org-center">
<p>
This sentence will be centered in the exported file
</p>
</div>

<pre class="example">
#+BEGIN_CENTER
This sentence will be centered in the exported file
#+END_CENTER
</pre></li>

<li><p>
The QUOTE block
</p>

<blockquote nil>
<p>
Everything should be made as simple as possible,
but not any simpler &#x2013; Albert Einstein
</p>
</blockquote>

<pre class="example">
#+BEGIN_QUOTE
 Everything should be made as simple as possible,
 but not any simpler -- Albert Einstein
 #+END_QUOTE
</pre></li>

</ul>

<aside class="notes">
<ul>
<li>Just mention the source code block here.</li>

</ul>

</aside>

</section>
<section id="slide-orgc5c662b">
<h4 id="orgc5c662b">Mathematics</h4>
<p>
Org mode can contain LaTeX math fragments that don't need any special
marking. Just do as in LaTeX.
</p>

<pre class="example">
\begin{equation}
    x=\sqrt{b}
\end{equation}

If $a^2=b$ and \( b=2 \), then the solution must be
either $$ a=+\sqrt{2} \text{ or }  a=-\sqrt{2} $$
</pre>

<div>
\begin{equation}
    x=\sqrt{b}
\end{equation}

</div>

<p>
If \(a^2=b\) and \( b=2 \), then the solution must be
either \[ a=+\sqrt{2} \text{ or }  a=-\sqrt{2} \]
</p>

<aside class="notes">
<ul>
<li>Mention the preview function. C-c C-x C-l</li>

</ul>

</aside>

</section>
<section id="slide-org605e4be">
<h4 id="org605e4be">Table</h4>
<ul>
<li><p>
‘|’ as the first non-whitespace character starts a table. The
following texts yield a table in HTML export
</p>

<pre class="example">
| Name  | Age | Score |
|-------+-----+-------|
| Peter |  17 |  1234 |
| Anna  |  25 |  4321 |
</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-right">Age</th>
<th scope="col" class="org-right">Score</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Peter</td>
<td class="org-right">17</td>
<td class="org-right">1234</td>
</tr>

<tr>
<td class="org-left">Anna</td>
<td class="org-right">25</td>
<td class="org-right">4321</td>
</tr>
</tbody>
</table></li>

</ul>

</section>
<section id="slide-org22144bc">
<h4 id="org22144bc">Calculation in a table</h4>
<ul>
<li>We can define formula for a field, a row, or a column by starting a
field with "<code>" or ":</code>".</li>

</ul>

<pre class="example">
| Name  | Age | Score |
|-------+-----+-------|
| Peter |  17 |  1234 |
| Anna  |  25 |  4321 |
|       |  21 |  5555 |
#+TBLFM: @4$2=vmean(@2..@3)::@4$3=vsum(@2..@3)
</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-right">Age</th>
<th scope="col" class="org-right">Score</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Peter</td>
<td class="org-right">17</td>
<td class="org-right">1234</td>
</tr>

<tr>
<td class="org-left">Anna</td>
<td class="org-right">25</td>
<td class="org-right">4321</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-right">21</td>
<td class="org-right">5555</td>
</tr>
</tbody>
</table>


</section>
</section>
<section>
<section id="slide-org1a9d18f">
<h3 id="org1a9d18f">Exporting</h3>
<ul>
<li>An org file can be exported to a variety of formats, including
latex, beamer, html, odt, etc.</li>
<li>C-c C-e: start the export dispatcher.
<ul>
<li>l o: export to pdf and open it.</li>
<li>h o: export to html and open it.</li>

</ul></li>

<li>This presentation is exported with the <code>og-reveal</code> package.</li>
<li>Export settings can be set using some keywords, such as
<code>#+TITLE, #+AUTHOR, #+OPTIONS, #+LATEX_HEADER, #+HTML_HEADER</code>,
etc.</li>

</ul>


</section>
</section>
<section>
<section id="slide-org8e2e0a3">
<h3 id="org8e2e0a3">Tasks and agenda view</h3>
<aside class="notes">
<p>
This is my favorite function of org mode.
</p>

</aside>

</section>
<section id="slide-orgcb06ba2">
<h4 id="orgcb06ba2">A sneak peek of my agenda</h4>
<p>
The org mode is a handy tool to plan daily life and manage
research projects.
</p>


<div class="figure">
<p><img src="figure/agenda_example.png" alt="agenda_example.png" width="700" height="550" />
</p>
<p><span class="figure-number">Figure 8: </span>An illustration of agenda view</p>
</div>

<aside class="notes">
<ul>
<li>This graph includes many elements for assigning tasks
<ul>
<li>Todo list</li>
<li>Schedule</li>

</ul></li>

</ul>

</aside>

</section>
<section id="slide-org824bafb">
<h4 id="org824bafb">To-do items</h4>
<p>
TODO items in org mode are headlines defined by TODO keywords after
asterisks.
</p>

<pre class="example">
* [#A] TODO Do this first.
* DONE This task has been done
</pre>

<dl>
<dt>M-S RET</dt><dd>quick enter a TODO item</dd>
<dt>S-right/left</dt><dd>cycle through TODO status</dd>
<dt>S-up/down</dt><dd>cycle through priorities.</dd>

</dl>


</section>
<section id="slide-orgc1c66d0">
<h4 id="orgc1c66d0">Schedule and deadline</h4>
<p>
We can set schedule and deadline to TODO items.
</p>

<dl>
<dt>C-c C-s</dt><dd>set a day and time to begin doing this item</dd>
<dt>C-c C-d</dt><dd>set a deadline</dd>

</dl>

<pre class="example">
* [#A] TODO Do this first.
  SCHEDULED: &lt;2017-02-03 Fri&gt;

* DONE This task has been done
  DEADLINE: &lt;2017-02-03 Fri&gt;
</pre>

<ul>
<li>Time stamps are generated using the calendar minor mode.</li>

</ul>


</section>
<section id="slide-org44489d6">
<h4 id="org44489d6">Agenda view</h4>
<p>
All TODO items, schedules, and deadlines can be viewed in the Agenda
view in org mode.
</p>

<dl>
<dt>C-c a a</dt><dd>start the agenda view</dd>
<dt>C-c a t</dt><dd>see all TODO items</dd>
<dt>C-c a m</dt><dd>filter TODO items by tags</dd>

</dl>

<p>
Within the agenda view, you can filter by tag, change the status, and
go to the headline of a TODO item.
</p>


</section>
</section>
<section>
<section id="slide-orge076410">
<h3 id="orge076410">Org-ref</h3>
<p>
Org-ref is a package developed by John Kitchin for reference
management.
</p>


<div class="figure">
<p><img src="figure/orgref.png" alt="orgref.png" />
</p>
<p><span class="figure-number">Figure 9: </span>A glimpse of org-ref</p>
</div>


</section>
</section>
<section>
<section id="slide-org40c6602">
<h2 id="org40c6602">Reproducible research with org-mode</h2>
<div class="outline-text-2" id="text-org40c6602">
</div></section>
</section>
<section>
<section id="slide-orgc7906cb">
<h3 id="orgc7906cb">Reproducible research: basics</h3>
<div class="outline-text-3" id="text-orgc7906cb">
</div></section>
<section id="slide-org51f32f6">
<h4 id="org51f32f6">What is reproducible research?</h4>
<blockquote nil>
<p>
The data and code used to make a finding are available and they are
sufficient for an independent researcher to recreate the finding.
&#x2013; Gandrud (2015)
</p>
</blockquote>


</section>
<section id="slide-orgbb9add1">
<h4 id="orgbb9add1">Why should we do reproducible research?</h4>
<div class="outline-text-4" id="text-orgbb9add1">
</div><ul class="org-ul"><li><a id="org7da001c"></a>For readers<br /><ul>
<li>Easy for reviewers to test and validate your findings.</li>
<li>Easy for readers to reuse your code in their research.</li>
<li>Make your paper a reliable citation.</li>

</ul></li>

<li><a id="orgb8ae903"></a>For ourselves<br /><ul>
<li>Easy for us to tract and retrospect what we have done.</li>
<li>Helpful to have good research habits and workflow.</li>
<li>Facilitating team work.</li>

</ul></li></ul>


</section>
<section id="slide-orgc85cf81">
<h4 id="orgc85cf81">What is a workflow of reproducible research?</h4>

<div class="figure">
<p><img src="figure/research_pipline.png" alt="research_pipline.png" width="750" height="570" />
</p>
<p><span class="figure-number">Figure 10: </span>A workflow of reproducible research (Source: Peng, 2015)</p>
</div>

<aside class="notes">
<ul>
<li>Don't forget mention the direction of readers.</li>

</ul>

</aside>

</section>
<section id="slide-org7e43b1e">
<h4 id="org7e43b1e">What are necessary elements of reproducible research?</h4>
<p>
Roger Peng (2015) summarizes four essential elements to make results
reproducible:
</p>
<ul>
<li>Analytical data</li>
<li>Analytical code</li>
<li>Documentation</li>
<li>Distribution</li>

</ul>


</section>
</section>
<section>
<section id="slide-orgde1f04a">
<h3 id="orgde1f04a">Literate programming</h3>
<div class="outline-text-3" id="text-orgde1f04a">
</div></section>
<section id="slide-orgfa06f20">
<h4 id="orgfa06f20">What is literate programming?</h4>
<p>
Literate programming (Donald Knuth, 1992) is the central part of
reproducible research.
</p>

<p>
Typically, literate programming involves the following three steps
(Xie, 2015):
</p>
<ol>
<li>parse the source document and separate the code from narratives;</li>
<li>execute the source code and return results;</li>
<li>mix results from the source code with the original narratives.</li>

</ol>

</section>
<section id="slide-org73023bf">
<h4 id="org73023bf">Available tools for literate programming</h4>
<ul>
<li>WEB (Knuth, 1983)</li>
<li>Noweb (Ramsey, 1994)</li>
<li><code>roxygen2</code> (Wickham et al., 2015)</li>
<li><code>knitr</code> (Xie, 2015b)</li>
<li>Jupyter(IPython) Notebook</li>
<li>Emacs org mode</li>

</ul>


</section>
</section>
<section>
<section id="slide-orgabf256e">
<h3 id="orgabf256e">Literate programming with Org-mode</h3>
<div class="outline-text-3" id="text-orgabf256e">
</div></section>
<section id="slide-org91ae1a8">
<h4 id="org91ae1a8">Source code blocks</h4>
<p>
The basic structure of code blocks is as follows
</p>

<pre class="example">
#+NAME: &lt;name&gt;
#+BEGIN_SRC &lt;language&gt; &lt;switches&gt; &lt;header arguments&gt;
   &lt;body&gt;
#+END_SRC
</pre>

<p>
The structure of an inline code block is
</p>

<pre class="example">
src_&lt;language&gt;[&lt;header arguments&gt;]{&lt;body&gt;}
</pre>

<aside class="notes">
<p>
This is the key component for carrying out literate programming in org
mode.
</p>

</aside>

</section>
<section id="slide-org1e6d470">
<h4 id="org1e6d470">Basic settings</h4>
<pre class="example">
#+BEGIN_SRC emacs-lisp :eval no
  (org-babel-do-load-languages
   'org-babel-load-languages
     '((R . t)
       (python . t)
       (emacs-lisp . t)
       (calc . t)
       (latex . t)
       (org . t)
       (sh . t)))

    (setq org-confirm-babel-evaluate nil)
#+END_SRC
</pre>

</section>
<section id="slide-orge6720de">
<h4 id="orge6720de">Header arguments</h4>
<p>
Header arguments fine-tune the behaviors of source code blocks.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Header arguments</th>
<th scope="col" class="org-left">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">:exports</td>
<td class="org-left">:exports results or :exports none</td>
</tr>

<tr>
<td class="org-left">:results</td>
<td class="org-left">:results value table or :results silent</td>
</tr>

<tr>
<td class="org-left">:eval</td>
<td class="org-left">:eval no</td>
</tr>

<tr>
<td class="org-left">:cache</td>
<td class="org-left">:cache yes</td>
</tr>

<tr>
<td class="org-left">:file</td>
<td class="org-left">:file ./img/figure1.png</td>
</tr>
</tbody>
</table>

</section>
<section id="slide-org13a6a33">
<h4 id="org13a6a33">Results in raw format</h4>
<pre class="example">
#+BEGIN_SRC R :exports both :results output
library(ggplot2)
head(mpg[1:5])
#+END_SRC

#+RESULTS:
:   manufacturer model displ year cyl
: 1         audi    a4   1.8 1999   4
: 2         audi    a4   1.8 1999   4
: 3         audi    a4   2.0 2008   4
: 4         audi    a4   2.0 2008   4
: 5         audi    a4   2.8 1999   6
: 6         audi    a4   2.8 1999   6
</pre>


</section>
<section id="slide-org6187ff4">
<h4 id="org6187ff4">Results in org tables</h4>
<pre class="example">
#+BEGIN_SRC R :exports results :results value table :colnames yes :cache yes
head(mpg[1:5])
#+END_SRC

#+RESULTS[f45a5d1174dd12cdb343701a0868203eda23a5bc]:
| manufacturer | model | displ | year | cyl |
|--------------+-------+-------+------+-----|
| audi         | a4    |   1.8 | 1999 |   4 |
| audi         | a4    |   1.8 | 1999 |   4 |
| audi         | a4    |     2 | 2008 |   4 |
| audi         | a4    |     2 | 2008 |   4 |
| audi         | a4    |   2.8 | 1999 |   6 |
| audi         | a4    |   2.8 | 1999 |   6 |
</pre>

<aside class="notes">
<ul>
<li>Mention the change in header argument :results and :cache</li>

</ul>

</aside>

</section>
<section id="slide-orgea5ef6a">
<h4 id="orgea5ef6a">Results in figures</h4>
<pre class="example">
#+BEGIN_SRC R :exports both :results output graphics :file mpg.png
  ggplot(mpg, aes(displ, cty, colour = class)) +
      geom_point()
#+END_SRC

#+ATTR_HTML: :width 600 :height 500
#+ATTR_LATEX: :width 0.6\textwidth :height 0.6\textheight
#+RESULTS:
[[file:figure/mpg.png]]
</pre>

<aside class="notes">
<ul>
<li>Mention the value of :results graphics</li>

</ul>

</aside>

</section>
<section id="slide-org7117531">
<h4 id="org7117531">The figure generated</h4>

<div class="figure">
<p><img src="figure/mpg.png" alt="mpg.png" width="600" height="500" />
</p>
<p><span class="figure-number">Figure 11: </span>The Scatterplot Between the Engine Displacement and City MPG</p>
</div>

</section>
<section id="slide-org919be2b">
<h4 id="org919be2b">Results in latex</h4>
<pre class="example">
#+BEGIN_SRC R :exports both :results output latex
library(stargazer)
stargazer(mpg, header = FALSE)
#+END_SRC

#+RESULTS:
#+BEGIN_EXPORT latex

% Table created by stargazer v.5.2 by Marek Hlavac, Harvard University. E-mail: hlavac at fas.harvard.edu
% Date and time: Mon, Feb 06, 2017 - 09:45:31
\begin{table}[!htbp] \centering
  \caption{}
  \label{}
\begin{tabular}{@{\extracolsep{5pt}}lccccc}
\\[-1.8ex]\hline
\hline \\[-1.8ex]
Statistic &amp; \multicolumn{1}{c}{N} &amp; \multicolumn{1}{c}{Mean} &amp; \multicolumn{1}{c}{St. Dev.} &amp; \multicolumn{1}{c}{Min} &amp; \multicolumn{1}{c}{Max} \\
\hline \\[-1.8ex]
displ &amp; 234 &amp; 3.472 &amp; 1.292 &amp; 1.600 &amp; 7.000 \\
year &amp; 234 &amp; 2,003.500 &amp; 4.510 &amp; 1,999 &amp; 2,008 \\
cyl &amp; 234 &amp; 5.889 &amp; 1.612 &amp; 4 &amp; 8 \\
cty &amp; 234 &amp; 16.859 &amp; 4.256 &amp; 9 &amp; 35 \\
hwy &amp; 234 &amp; 23.440 &amp; 5.955 &amp; 12 &amp; 44 \\
\hline \\[-1.8ex]
\end{tabular}
\end{table}
#+END_EXPORT
</pre>

</section>
<section id="slide-orgf1611b8">
<h4 id="orgf1611b8">The LaTeX table generated</h4>
<aside class="notes">
<ul>
<li>The table is not shown in there</li>

</ul>

</aside>

</section>
<section id="slide-org843ad77">
<h4 id="org843ad77">An mini example of literate programming</h4>
<p>
The following file is an example of reproducible research, which I
used in teaching Econometrics.
</p>

<p>
<a href="example/replicate_ch7.html">example/replicate_ch7.html</a>
</p>

<aside class="notes">
<ul>
<li>Open the file.</li>
<li>This is a lecture notes for demonstrating R in the class of
Econometrics. The example replicates the regression models in
Chapter 7 in Stock and Watson's book of Introduction to
Econometrics.</li>

</ul>

</aside>


</section>
</section>
<section>
<section id="slide-org8970880">
<h2 id="org8970880">Collaboration with Git and Github</h2>
<div class="outline-text-2" id="text-org8970880">
</div></section>
</section>
<section>
<section id="slide-org868a0fd">
<h3 id="org868a0fd">What is Git?</h3>
<ul>
<li>Git is a version control system (VCS) that records changes to a file
or set of files over time so that you can recall specific versions
later.</li>

<li>Using Git to manage versions means that if you screw things up or
lose files, you can easily recover.</li>

</ul>


</section>
</section>
<section>
<section id="slide-orga870960">
<h3 id="orga870960">How does Git work?</h3>

<div id="org39cb5f8" class="figure">
<p><img src="figure/snapshots.png" alt="snapshots.png" width="800" />
</p>
<p><span class="figure-number">Figure 12: </span>Storing data as snapshots of the project over time</p>
</div>


</section>
</section>
<section>
<section id="slide-orgbe9ddbb">
<h3 id="orgbe9ddbb">The basic workflow of Git goes like this</h3>

<div id="orgf6ddd7c" class="figure">
<p><img src="figure/threestages.png" alt="threestages.png" />
</p>
<p><span class="figure-number">Figure 13: </span>Working tree, staging area, and Git directory</p>
</div>


</section>
</section>
<section>
<section id="slide-org248a4bc">
<h3 id="org248a4bc">A life cycle of a file</h3>

<div id="org3f9b0e6" class="figure">
<p><img src="figure/lifecycle.png" alt="lifecycle.png" />
</p>
<p><span class="figure-number">Figure 14: </span>A life cycle of a file under git</p>
</div>


</section>
</section>
<section>
<section id="slide-org995b20d">
<h3 id="org995b20d">Basic Git commands</h3>
<dl>
<dt><code>git init</code></dt><dd>create a git repository</dd>
<dt><code>git add</code></dt><dd>stage changes made to files</dd>
<dt><code>git commit</code></dt><dd>commit changes</dd>
<dt><code>git status</code></dt><dd>check the status</dd>
<dt><code>git log</code></dt><dd>check history</dd>

</dl>


</section>
</section>
<section>
<section id="slide-org3331e8b">
<h3 id="org3331e8b">Working with branches</h3>
<div class="outline-text-3" id="text-org3331e8b">
</div></section>
<section id="slide-org36407b0">
<h4 id="org36407b0">Branches in a nutshell</h4>

<div id="org75cf2eb" class="figure">
<p><img src="figure/gitbranch.png" alt="gitbranch.png" />
</p>
<p><span class="figure-number">Figure 15: </span>Git branches in a nutshell</p>
</div>

</section>
<section id="slide-org8b85cf4">
<h4 id="org8b85cf4">Branch command</h4>
<dl>
<dt><code>git branch</code></dt><dd>create a branch</dd>
<dt><code>git checkout</code></dt><dd>checkout to a branch</dd>
<dt><code>git merge</code></dt><dd>merge a branch</dd>

</dl>


</section>
</section>
<section>
<section id="slide-orgaf6b24e">
<h3 id="orgaf6b24e">Remote repository and Github</h3>
<ul>
<li>Git remote repositories make possible collaboration in a distributed
way.</li>
<li>GitHub provides remote repository hosting service, but it adds many
of its own features.</li>
<li>Visit <a href="https://github.com/">https://github.com/</a> and sign up a free account right now!</li>

</ul>

</section>
<section id="slide-org2392ccb">
<h4 id="org2392ccb">Set up a Github repository</h4>

<div id="orgbfed65b" class="figure">
<p><img src="figure/newrepo.png" alt="newrepo.png" />
</p>
<p><span class="figure-number">Figure 16: </span>Initialize Github repository</p>
</div>

</section>
<section id="slide-org72e757b">
<h4 id="org72e757b">Remote commands</h4>
<dl>
<dt><code>git clone</code></dt><dd>download a remote repository</dd>
<dt><code>git remote add</code></dt><dd>add a remote repository</dd>
<dt><code>git pull</code></dt><dd>update local files with all changes in the remote</dd>
<dt><code>git push</code></dt><dd>upload local changes to the remote</dd>

</dl>


</section>
</section>
<section>
<section id="slide-org2da4bc6">
<h3 id="org2da4bc6">Collaboration with Github</h3>
<div class="outline-text-3" id="text-org2da4bc6">
</div></section>
<section id="slide-orgf39d4bd">
<h4 id="orgf39d4bd">Fork and download</h4>

<div id="org5b014e2" class="figure">
<p><img src="figure/fork.png" alt="fork.png" />
</p>
<p><span class="figure-number">Figure 17: </span>Fork a project</p>
</div>

</section>
<section id="slide-org63c432f">
<h4 id="org63c432f">Make changes locally</h4>
<div class="org-src-container">

<pre><code class="shell" >$ git branch testing
$ git checkout testing
$ git commit -a -m "make some changes"
$ git push origin testing
</code></pre>
</div>

</section>
<section id="slide-orgf8bd2ba">
<h4 id="orgf8bd2ba">Open pull request</h4>

<div class="figure">
<p><img src="figure/openpullrequest.png" alt="openpullrequest.png" />
</p>
<p><span class="figure-number">Figure 18: </span>Open a pull request</p>
</div>

</section>
<section id="slide-orgff2d3e1">
<h4 id="orgff2d3e1">Merge pull request</h4>

<div id="orga04a217" class="figure">
<p><img src="figure/mergepull.png" alt="mergepull.png" />
</p>
<p><span class="figure-number">Figure 19: </span>Merge pull request</p>
</div>


</section>
</section>
<section>
<section id="slide-org66f79b3">
<h3 id="org66f79b3">Other functionalities of Github</h3>
<dl>
<dt>Github page</dt><dd><ul>
<li><a href="https://pages.github.com">https://pages.github.com</a></li>
<li><a href="https://isem-cueb-ztian.github.io/Intro-Econometrics-2017/">https://isem-cueb-ztian.github.io/Intro-Econometrics-2017/</a></li>

</ul></dd>

<dt>Github classroom</dt><dd><ul>
<li><a href="https://classroom.github.com/">https://classroom.github.com/</a></li>
<li><a href="https://github.com/ISEM-CUEB-ZTIAN">https://github.com/ISEM-CUEB-ZTIAN</a></li>

</ul></dd>

</dl>


</section>
</section>
<section>
<section id="slide-orga22723c">
<h2 id="orga22723c">Miscellaneous</h2>
<div class="outline-text-2" id="text-orga22723c">
</div></section>
</section>
<section>
<section id="slide-org05892ef">
<h3 id="org05892ef">Tutorial sources</h3>
<dl>
<dt>John Kitchin's blog</dt><dd><a href="http://kitchingroup.cheme.cmu.edu/blog/2014/08/08/What-we-are-using-org-mode-for/">http://kitchingroup.cheme.cmu.edu/blog/2014/08/08/What-we-are-using-org-mode-for/</a></dd>

<dt>John Kitchin's presentation on YouTube</dt><dd><a href="https://www.youtube.com/watch?v=1-dUkyn_fZA&amp;t=126s">https://www.youtube.com/watch?v=1-dUkyn_fZA&amp;t=126s</a></dd>

<dt>Vikas Rawal's tutorial</dt><dd><a href="https://github.com/vikasrawal/orgpaper/blob/master/orgpapers.org">https://github.com/vikasrawal/orgpaper/blob/master/orgpapers.org</a></dd>

<dt>The book <i>Pro Git</i></dt><dd>Git is fully documented in this book, <a href="https://git-scm.com/book/en/v2">https://git-scm.com/book/en/v2</a>.</dd>

<dt>Github tutorial</dt><dd><a href="https://guides.github.com/activities/hello-world/">https://guides.github.com/activities/hello-world/</a></dd>

</dl>


</section>
</section>
<section>
<section id="slide-org7fd8a19">
<h3 id="org7fd8a19">Version information</h3>
<ul>
<li>OS X El Capitan (Version 10.11.6)</li>
<li>GNU Emacs version 25.1.1</li>
<li>Org mode version 9.0.3</li>
<li>Ess mode version 16.10</li>

</ul>


</section>
</section>
<section>
<section id="slide-orge3da919">
<h3 id="orge3da919">Q &amp; A</h3>
<p>
You can download my presentation at
<a href="https://github.com/zngtian/intro_org_RR">https://github.com/zngtian/intro_org_RR</a> or
</p>
<div class="org-src-container">

<pre><code class="sh" >git clone https://github.com/zngtian/intro_org_RR.git
</code></pre>
</div>

<p>
Any comments and questions are welcomed.
</p>

<p>
Thanks!
</p>
</section>
</section>
</div>
</div>
<script src="./reveal.js/lib/js/head.min.js"></script>
<script src="./reveal.js/js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: false,
center: true,
slideNumber: 'c',
rollingLinks: true,
keyboard: true,
overview: true,
width: 1000,
height: 800,
margin: 0.20,
minScale: 0.50,
maxScale: 2.50,

theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
transition: Reveal.getQueryHash().transition || 'convex', // default/cube/page/concave/zoom/linear/fade/none
transitionSpeed: 'default',
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
{ src: './reveal.js/plugin/menu/menu.js' },
 { src: './reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
 { src: './reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: './reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } }]
});
</script>
</body>
</html>
