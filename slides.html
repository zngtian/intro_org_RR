<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Emacs, Org-Mode, and Reproducible Research</title>
<meta name="author" content="(Zheng Tian)"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./web/reveal.js/css/reveal.css"/>

<link rel="stylesheet" href="./web/reveal.js/css/theme/moon.css" id="theme"/>

<link rel="stylesheet" href="./web/reveal.js/lib/css/zenburn.css"/>
<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = './web/reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h1 class="title">Emacs, Org-Mode, and Reproducible Research</h1><h2 class="author">Zheng Tian</h2><p class="date">Created: 2017-02-08 Wed 23:32</p>
<aside class="notes">
<ul>
<li>This workshop is to share my experience of using emacs and org mode
to document my research.</li>
<li>I have been using it for three years. But there were some back and
forth, abandoning it and picking it up again.</li>
<li>This workshop tries to help you have a quick start with emacs and
org mode, avoiding the zig-zag path I learned it.</li>
</ul>
</aside>

</section>
<section id="table-of-contents">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#/slide-org833d172">Introduction</a></li>
<li><a href="#/slide-org2c90aaf">Emacs</a></li>
<li><a href="#/slide-org0807b1b">Org-Mode</a></li>
<li><a href="#/slide-org8338055">Reproducible research with org-mode</a></li>
</ul>
</div>
</div>
</section>

<section>
<section id="slide-org833d172">
<h2 id="org833d172">Introduction</h2>
</section>
</section>
<section>
<section id="slide-orgd11ffc5">
<h3 id="orgd11ffc5">Have you ever experienced this?</h3>

<div class="figure">
<p><img src="figure/phdcomics.png" alt="phdcomics.png" width="600" height="600" />
</p>
</div>

<aside class="notes">
<ul>
<li>Briefly describe the comic.</li>
<li>Tell them my story in the ECIO model.
<ul>
<li>Write some code to solve a problem.</li>
<li>Document them in the python file very casually.</li>
<li>Write separate files for documentation, hard to read.</li>
<li>Leave followers (Xueting, Peter) hard to figure it out.</li>

</ul></li>

<li>Raise the question: IS THERE A GOOD WAY TO DOCUMENT CODE?
<ul>
<li>Easy to document</li>
<li>Combine the code and documentation with one file</li>

</ul></li>

</ul>

</aside>


</section>
</section>
<section>
<section id="slide-orgbb1f036">
<h3 id="orgbb1f036">Reproducible research</h3>
<blockquote nil>
<p>
An article about computational science in a scientific publication is
not the scholarship itself, it is merely advertising of the
scholarship. The actual scholarship is the complete software
development environment and the complete set of instructions which
generated the figures.
</p>

<p>
&#x2013; Buckheit and Donoho (1995)
</p>
</blockquote>

<aside class="notes">
<ul>
<li>Reflect the question raised. Answer is to do reproducible research.</li>
<li>The spirit of reproducible research is in the following quotation.</li>

</ul>

</aside>


</section>
</section>
<section>
<section id="slide-orgd7610e9">
<h3 id="orgd7610e9">How can we do reproducible research?</h3>

<div class="figure">
<p><img src="figure/emacs_startup.png" alt="emacs_startup.png" width="800" height="600" />
</p>
</div>

<p>
You can download my presentation at
<a href="https://github.com/zngtian/intro_org_RR">https://github.com/zngtian/intro_org_RR</a>
</p>

<aside class="notes">
<ul>
<li>HOW CAN WE IMPLEMENT REPRODUCIBLE RESEARCH?</li>
<li>This workshop introduces a very powerful and handy tool: Emacs and
its org-mode.</li>
<li>Describe the snapshot.</li>
<li>Mention the link.</li>

</ul>

</aside>


</section>
</section>
<section>
<section id="slide-org2c90aaf">
<h2 id="org2c90aaf">Emacs</h2>
<div class="outline-text-2" id="text-org2c90aaf">
</div></section>
</section>
<section>
<section id="slide-orgeb82b62">
<h3 id="orgeb82b62">What is Emacs? A text editor.</h3>
<p>
GNU Emacs is a free, portable, extensible text editor.
</p>

<dl>
<dt>Free</dt><dd>Open source, freely copyable and redistributable.</dd>
<dt>Portable</dt><dd>Run on many machines under different operating systems.</dd>
<dt>Extensible</dt><dd>Customizable for all aspect and have many contributed
packages.</dd>

</dl>


</section>
</section>
<section>
<section id="slide-orgedd8d3e">
<h3 id="orgedd8d3e">Emacs is beyond a text editor</h3>
<div class="outline-text-3" id="text-orgedd8d3e">
</div></section>
<section id="slide-org9b4cce2">
<h4 id="org9b4cce2">Emacs is a LaTeX editor via AucTex</h4>

<div class="figure">
<p><img src="figure/auctex_example.png" alt="auctex_example.png" width="800" height="600" />
</p>
<p><span class="figure-number">Figure 3: </span>An illustration of the AucTex mode</p>
</div>

</section>
<section id="slide-org4900fe1">
<h4 id="org4900fe1">Emacs is IDE for programming languages</h4>
<ul>
<li>Edit code with syntax highlighting</li>
<li>Execute code within Emacs</li>

</ul>


<div class="figure">
<p><img src="figure/r_example.png" alt="r_example.png" width="800" height="600" />
</p>
<p><span class="figure-number">Figure 4: </span>An illustration of the ESS mode</p>
</div>

<aside class="notes">
<ul>
<li>Mention that emacs can also be the IDE for writing python, c/c++,
html.</li>
<li>Maybe show changing to python-mode in the <b>scratch</b> buffer.</li>

</ul>

</aside>

</section>
<section id="slide-org84c55cc">
<h4 id="org84c55cc">Emacs is an operating system</h4>
<ul>
<li>Emacs is an operating system, easily managing files and folders
within a dired-directory interface.</li>

</ul>


<div class="figure">
<p><img src="figure/dired_example.png" alt="dired_example.png" width="600" height="550" />
</p>
<p><span class="figure-number">Figure 5: </span>Emacs as an operating system with the dired mode</p>
</div>

</section>
<section id="slide-org4813031">
<h4 id="org4813031">Emacs is a Git tool via Magit</h4>

<div class="figure">
<p><img src="figure/magit_example.png" alt="magit_example.png" width="800" height="600" />
</p>
<p><span class="figure-number">Figure 6: </span>An illustration of the Magit mode</p>
</div>

</section>
<section id="slide-orgee1a191">
<h4 id="orgee1a191">Emacs can do many other things</h4>
<ul>
<li>Emacs can do spell checking, reading news, checking and sending
emails, etc., through plenty of contributed packages.</li>
<li>Most importantly, Emacs enable researchers to manage research
project, take notes, and write dynamic documentation.</li>

</ul>


</section>
</section>
<section>
<section id="slide-orgb486cd7">
<h3 id="orgb486cd7">Installation and Configuration</h3>
<div class="outline-text-3" id="text-orgb486cd7">
</div></section>
<section id="slide-org4226e08">
<h4 id="org4226e08">Installation</h4>
<ul>
<li>Homepage of GNU Emacs: <a href="https://www.gnu.org/software/emacs/">https://www.gnu.org/software/emacs/</a></li>

<li>Vincent Goulet's binary files:
<a href="http://vgoulet.act.ulaval.ca/en/emacs/">http://vgoulet.act.ulaval.ca/en/emacs/</a></li>

</ul>

<aside class="notes">
<ul>
<li>I personally prefer the second option because it has already included
some of the mostly used packages.</li>
<li>Open the link in a new tab.</li>

</ul>

</aside>

</section>
<section id="slide-orgb19099e">
<h4 id="orgb19099e">Configuration</h4>
<p>
Emacs is customizable and all customized configuration can be done
with either a <code>.emacs</code> file or <code>init.el</code> under the directory
<code>~/.emacs.d</code>.
</p>

<p>
With some settings, we can use an org file to organize and apply your
customization.
</p>

</section>
<section id="slide-org9974a84">
<h4 id="org9974a84">My settings</h4>
<p>
All my settings have been uploaded to Github from where you can
download or
</p>

<div class="org-src-container">

<pre><code class="sh" >git clone https://github.com/zngtian/.emacs.d.git
</code></pre>
</div>

<ul class="org-ul"><li><a id="org759768e"></a>A sneak peek of my settings<br  /><dl>
<dt>init.el</dt><dd><a href="https://github.com/zngtian/.emacs.d/blob/master/init.el">https://github.com/zngtian/.emacs.d/blob/master/init.el</a></dd>
<dt>myconfig.org</dt><dd><a href="https://github.com/zngtian/.emacs.d/blob/master/myconfig.org">https://github.com/zngtian/.emacs.d/blob/master/myconfig.org</a></dd>

</dl>

<aside class="notes">
<ul>
<li>Open the files in new tabs.</li>
<li>Tell them to change the paths and files names in myconfig.org.</li>

</ul>

</aside></li></ul>


</section>
</section>
<section>
<section id="slide-orgdd88324">
<h3 id="orgdd88324">Basic usage of Emacs</h3>
<div class="outline-text-3" id="text-orgdd88324">
</div></section>
<section id="slide-orgdc419d2">
<h4 id="orgdc419d2">Notation</h4>
<p>
In Emacs documentation, we often see the following notations
</p>

<dl>
<dt>C-x</dt><dd>Press Control key and x</dd>
<dt>M-x</dt><dd>Press Alt key and x</dd>
<dt>RET</dt><dd>Press the return key</dd>
<dt>SPC</dt><dd>Press the space bar</dd>
<dt>ESC</dt><dd>Press the escape key</dd>
<dt>S-&lt;TAB&gt;</dt><dd>Press shift and tab keys</dd>

</dl>

</section>
<section id="slide-orgf16cc34">
<h4 id="orgf16cc34">Buffer and windows</h4>
<p>
The basic user interface of Emacs is in buffers and windows
</p>


<div class="figure">
<p><img src="figure/buffer_example.png" alt="buffer_example.png" width="900" height="550" />
</p>
<p><span class="figure-number">Figure 7: </span>An example of Emacs buffers and windows</p>
</div>

<aside class="notes">
<ul>
<li>Explain each part.</li>
<li>Demonstrate some operations on Emacs in this section.</li>

</ul>

</aside>

</section>
<section id="slide-org489d494">
<h4 id="org489d494">Motion within a buffer</h4>
<dl>
<dt>C-f and M-f</dt><dd>move forward by one character and by one word</dd>
<dt>C-b and M-b</dt><dd>move backward by one letter and by one word</dd>
<dt>C-n and C-p</dt><dd>move downward and upward</dd>
<dt>C-v and M-v</dt><dd>scroll down and up</dd>
<dt>M-&lt; and M-&gt;</dt><dd>move to the start and to the end of a buffer</dd>

</dl>

<aside class="notes">
<ul>
<li>Not to show these commands right now.</li>
<li>Demonstrate all these operations when showing the example via
mwe-log-commands.</li>

</ul>

</aside>

</section>
<section id="slide-orgfe13592">
<h4 id="orgfe13592">Switch buffers and windows</h4>
<dl>
<dt>C-x 2</dt><dd>open a new buffer</dd>
<dt>C-x 0</dt><dd>close the current buffer</dd>
<dt>C-x b</dt><dd>switch to a buffer</dd>
<dt>C-x o</dt><dd>switch between two opened buffers</dd>
<dt>C-x 4 b</dt><dd>switch to a buffer and open it as a new one</dd>
<dt>C-x 5 2 and C-x 5-0</dt><dd>open and close a new window</dd>

</dl>

</section>
<section id="slide-org3d36234">
<h4 id="org3d36234">Open, save, quit, and help</h4>
<dl>
<dt>C-x C-f</dt><dd>open a new file</dd>
<dt>C-x C-s</dt><dd>save the current buffer</dd>
<dt>C-x s</dt><dd>save all files</dd>
<dt>C-g</dt><dd>cancel the currently invoked command. VERY IMPORTANT!</dd>
<dt>C-x C-c</dt><dd>exit Emacs</dd>
<dt>C-h ?/m/a</dt><dd>get help</dd>

</dl>

</section>
<section id="slide-org48ec367">
<h4 id="org48ec367">Copy, yank, and delete</h4>
<dl>
<dt>C-SPC</dt><dd>set a mark and move the cursor around to select a region</dd>
<dt>C-w</dt><dd>kill (cut)</dd>
<dt>M-w</dt><dd>copy</dd>
<dt>C-y</dt><dd>yank (paste)</dd>
<dt>DEL and C-d</dt><dd>delete a character backward and forward</dd>
<dt>M-DEL and M-d</dt><dd>delete a word backward and forward</dd>
<dt>C-k</dt><dd>kill a line.</dd>
<dt>C-x u</dt><dd>undo the previous editing.</dd>

</dl>

</section>
<section id="slide-org64acf70">
<h4 id="org64acf70">Tutorial and cheat sheet</h4>
<dl>
<dt>C-h t</dt><dd>open the complete tutorial</dd>

<dt>A guided tour</dt><dd><a href="https://www.gnu.org/software/emacs/tour/">https://www.gnu.org/software/emacs/tour/</a></dd>

<dt>Cheat sheet</dt><dd><a href="https://www.gnu.org/software/emacs/refcards/pdf/refcard.pdf">https://www.gnu.org/software/emacs/refcards/pdf/refcard.pdf</a></dd>

</dl>


</section>
</section>
<section>
<section id="slide-org0807b1b">
<h2 id="org0807b1b">Org-Mode</h2>
<div class="outline-text-2" id="text-org0807b1b">
</div></section>
</section>
<section>
<section id="slide-orgffb5d32">
<h3 id="orgffb5d32">What is org-mode</h3>
<p>
Org mode is one of the most popular contributed packages in Emacs. It
can accomplish a variety of work including, but not limited to,
</p>

<ul>
<li>taking notes with structured documentation,</li>
<li>assigning tasks and scheduling them,</li>
<li>editing tables and doing calculation,</li>
<li>exporting to pdf, html, odt files,</li>
<li><b>working with source code</b>.</li>

</ul>


</section>
</section>
<section>
<section id="slide-org064d586">
<h3 id="org064d586">Structured document</h3>
<div class="outline-text-3" id="text-org064d586">
</div></section>
<section id="slide-orged1e872">
<h4 id="orged1e872">Headline</h4>
<pre class="example">
* Top level headline
** Second level
*** 3rd level
    some text
*** 3rd level
    more text

* Another top level headline
</pre>

<dl>
<dt>&lt;TAB&gt;</dt><dd>hit at a headline to see and hide the content under it</dd>
<dt>S-&lt;TAB&gt;</dt><dd>global cycling.</dd>
<dt>M-left and M-right</dt><dd>promote and demote a heading</dd>

</dl>

</section>
<section id="slide-orga08c293">
<h4 id="orga08c293">Lists</h4>
<pre class="example">
- Unordered list
  + Item 1
  + Item 2
- Ordered list
  1. first thing
  2. second thing
  3. third thing
- Description
  - Tom :: a cat
  - Jerry :: a mouse
- List with check box
  - [X] Do this
  - [ ] Do that
</pre>


</section>
</section>
<section>
<section id="slide-orge8b964d">
<h3 id="orge8b964d">Special elements</h3>
<div class="outline-text-3" id="text-orge8b964d">
</div></section>
<section id="slide-org9ebcaad">
<h4 id="org9ebcaad">Links</h4>
<ul>
<li><p>
The basic syntax for a link:
</p>
<pre class="example">
[[link][description]] or [[link]]
</pre></li>

<li><p>
Internal link: <a href="#/slide-orga08c293">Lists</a>
</p>
<pre class="example">
[[Lists]]
</pre></li>

<li><p>
External link: <a href="slides.tex">slides.tex</a>
</p>
<pre class="example">
[[file:slides.tex]]
</pre></li>

<li><p>
URL: <a href="http://rri.wvu.edu/">http://rri.wvu.edu/</a>
</p>
<pre  class="example">
[[http://rri.wvu.edu/]]
</pre></li>

</ul>

</section>
<section id="slide-org8ec2bc5">
<h4 id="org8ec2bc5">Blocks</h4>
<ul>
<li>Blocks are defined by <code>#+BEGIN_... and #+END_...</code></li>

<li><p>
The CENTER block
</p>

<div class="org-center">
<p>
This sentence will be centered in the exported file
</p>
</div>

<pre class="example">
#+BEGIN_CENTER
This sentence will be centered in the exported file
#+END_CENTER
</pre></li>

<li><p>
The QUOTE block
</p>

<blockquote nil>
<p>
Everything should be made as simple as possible,
but not any simpler &#x2013; Albert Einstein
</p>
</blockquote>

<pre class="example">
#+BEGIN_QUOTE
 Everything should be made as simple as possible,
 but not any simpler -- Albert Einstein
 #+END_QUOTE
</pre></li>

</ul>

</section>
<section id="slide-org8e8e8e0">
<h4 id="org8e8e8e0">Mathematics</h4>
<p>
Org mode can contain LaTeX math fragments that don't need any special
marking. Just do as in LaTeX.
</p>

<pre class="example">
\begin{equation}
    x=\sqrt{b}
\end{equation}

If $a^2=b$ and \( b=2 \), then the solution must be
either $$ a=+\sqrt{2} \text{ or }  a=-\sqrt{2} $$
</pre>

<div>
\begin{equation}
    x=\sqrt{b}
\end{equation}

</div>

<p>
If \(a^2=b\) and \( b=2 \), then the solution must be
either \[ a=+\sqrt{2} \text{ or }  a=-\sqrt{2} \]
</p>

</section>
<section id="slide-orgd6fdd6b">
<h4 id="orgd6fdd6b">Table</h4>
<ul>
<li><p>
‘|’ as the first non-whitespace character starts a table. The
following texts yield a table in HTML export
</p>

<pre class="example">
| Name  | Age | Score |
|-------+-----+-------|
| Peter |  17 |  1234 |
| Anna  |  25 |  4321 |
</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-right">Age</th>
<th scope="col" class="org-right">Score</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Peter</td>
<td class="org-right">17</td>
<td class="org-right">1234</td>
</tr>

<tr>
<td class="org-left">Anna</td>
<td class="org-right">25</td>
<td class="org-right">4321</td>
</tr>
</tbody>
</table></li>

</ul>

</section>
<section id="slide-org34cffc3">
<h4 id="org34cffc3">Calculation in a table</h4>
<ul>
<li>We can define formula for a field, a row, or a column by starting a
field with "="</li>

</ul>

<pre class="example">
| Name  | Age | Score |
|-------+-----+-------|
| Peter |  17 |  1234 |
| Anna  |  25 |  4321 |
|       |  21 |  5555 |
#+TBLFM: @4$2=vmean(@2..@3)::@4$3=vsum(@2..@3)
</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-right">Age</th>
<th scope="col" class="org-right">Score</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Peter</td>
<td class="org-right">17</td>
<td class="org-right">1234</td>
</tr>

<tr>
<td class="org-left">Anna</td>
<td class="org-right">25</td>
<td class="org-right">4321</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-right">21</td>
<td class="org-right">5555</td>
</tr>
</tbody>
</table>


</section>
</section>
<section>
<section id="slide-org1b49c11">
<h3 id="org1b49c11">Exporting</h3>
<ul>
<li>An org file can be exported to a variety of formats, including
latex, beamer, html, odt, etc.</li>
<li><code>C-c C-e</code>: start the export dispatcher.</li>
<li>Then you can select from several options. Try <code>C-c C-e l O</code> to
generate the beamer file.</li>
<li>This presentation is exported with the <code>og-reveal</code> package.</li>
<li>Export settings can be set using some keywords, such as
<code>#+TITLE, #+AUTHOR, #+OPTIONS, #+LATEX_HEADER, #+HTML_HEADER</code>,
etc.</li>

</ul>


</section>
</section>
<section>
<section id="slide-org08d3da4">
<h3 id="org08d3da4">Tasks and agenda view</h3>
<div class="outline-text-3" id="text-org08d3da4">
</div></section>
<section id="slide-orgca3ca35">
<h4 id="orgca3ca35">A sneak peek of my agenda</h4>
<p>
Org mode is not just a text editor that can include a rich variety of
elements but also a handy tool to plan daily life and manage
research projects.
</p>


<div class="figure">
<p><img src="figure/agenda_example.png" alt="agenda_example.png" width="700" height="600" />
</p>
<p><span class="figure-number">Figure 8: </span>An illustration of agenda view</p>
</div>


</section>
<section id="slide-orga24cb25">
<h4 id="orga24cb25">To-do items</h4>
<p>
TODO items in org mode are headlines defined by TODO keywords after
asterisks.
</p>

<pre class="example">
* [#A] TODO Do this first.
* DONE This task has been done
</pre>

<dl>
<dt>M-S RET</dt><dd>quick enter a TODO item</dd>
<dt>S-right/left</dt><dd>cycle through TODO status</dd>
<dt>S-up/down</dt><dd>cycle through priorities.</dd>

</dl>


</section>
<section id="slide-orgda360fb">
<h4 id="orgda360fb">Schedule and deadline</h4>
<p>
We can set schedule and deadline to TODO items.
</p>

<dl>
<dt>C-c C-s</dt><dd>set a day and time to begin doing this item</dd>
<dt>C-c C-d</dt><dd>set a deadline</dd>

</dl>

<pre class="example">
* [#A] TODO Do this first.
  SCHEDULED: &lt;2017-02-03 Fri&gt;

* DONE This task has been done
  DEADLINE: &lt;2017-02-03 Fri&gt;
</pre>

<ul>
<li>Time stamps are generated using the calendar minor mode.</li>

</ul>


</section>
<section id="slide-org4585f23">
<h4 id="org4585f23">Agenda view</h4>
<p>
All TODO items, schedules, and deadlines can be viewed in the Agenda
view in org mode.
</p>

<dl>
<dt>C-c a a</dt><dd>start the agenda view</dd>
<dt>C-c a t</dt><dd>see all TODO items</dd>
<dt>C-c a m</dt><dd>filter TODO items by tags</dd>

</dl>

<p>
Within the agenda view, you can filter by tag, change the status, and
go to the headline of a TODO item.
</p>


</section>
</section>
<section>
<section id="slide-org8338055">
<h2 id="org8338055">Reproducible research with org-mode</h2>
<div class="outline-text-2" id="text-org8338055">
</div></section>
</section>
<section>
<section id="slide-org8c0de15">
<h3 id="org8c0de15">Reproducible research: basics</h3>
<div class="outline-text-3" id="text-org8c0de15">
</div></section>
<section id="slide-org0cdd907">
<h4 id="org0cdd907">What is reproducible research?</h4>
<blockquote nil>
<p>
The data and code used to make a finding are available and they are
sufficient for an independent researcher to recreate the finding.
&#x2013; Gandrud (2015)
</p>
</blockquote>


</section>
<section id="slide-orge7fdd89">
<h4 id="orge7fdd89">Why should we do reproducible research?</h4>
<div class="outline-text-4" id="text-orge7fdd89">
</div><ul class="org-ul"><li><a id="org019b4a1"></a>For readers<br  /><ul>
<li>Easy for reviewers to test and validate your findings.</li>
<li>Easy for readers to reuse your code in their research.</li>
<li>Make your paper a reliable citation.</li>

</ul></li>

<li><a id="org2489c67"></a>For ourselves<br  /><ul>
<li>Easy for us to tract and retrospect what we have done.</li>
<li>Helpful to have good research habits and workflow.</li>
<li>Facilitating team work.</li>

</ul></li></ul>


</section>
<section id="slide-org8aebb29">
<h4 id="org8aebb29">What is a workflow of reproducible research?</h4>

<div class="figure">
<p><img src="figure/research_pipline.png" alt="research_pipline.png" width="750" height="570" />
</p>
<p><span class="figure-number">Figure 9: </span>A workflow of reproducible research (Source: Peng, 2015)</p>
</div>

<aside class="notes">
<ul>
<li>Don't forget mention the direction of readers.</li>

</ul>

</aside>

</section>
<section id="slide-orgab4d8e6">
<h4 id="orgab4d8e6">What are necessary elements of reproducible research?</h4>
<p>
Roger Peng (2015) summarizes four essential elements to make results
reproducible:
</p>
<ul>
<li>Analytical data</li>
<li>Analytical code</li>
<li>Documentation</li>
<li>Distribution</li>

</ul>


</section>
</section>
<section>
<section id="slide-orge2f88d6">
<h3 id="orge2f88d6">Literate programming</h3>
<div class="outline-text-3" id="text-orge2f88d6">
</div></section>
<section id="slide-org6bc5833">
<h4 id="org6bc5833">What is literate programming?</h4>
<p>
Literate programming (Donald Knuth, 1992) is the central part of
reproducible research.
</p>

<p>
Typically, literate programming involves the following three steps
(Xie, 2015):
</p>
<ol>
<li>parse the source document and separate the code from narratives;</li>
<li>execute the source code and return results;</li>
<li>mix results from the source code with the original narratives.</li>

</ol>

</section>
<section id="slide-org3c7511a">
<h4 id="org3c7511a">Available tools for literate programming</h4>
<ul>
<li>WEB (Knuth, 1983)</li>
<li>Noweb (Ramsey, 1994)</li>
<li><code>roxygen2</code> (Wickham et al., 2015)</li>
<li><code>knitr</code> (Xie, 2015b)</li>
<li>Jupyter(IPython) Notebook</li>
<li>Emacs org mode</li>

</ul>


</section>
</section>
<section>
<section id="slide-orgc7fd864">
<h3 id="orgc7fd864">Literate programming with Org-mode</h3>
<div class="outline-text-3" id="text-orgc7fd864">
</div></section>
<section id="slide-org8088716">
<h4 id="org8088716">Source code blocks</h4>
<p>
The basic structure of code blocks is as follows
</p>

<pre class="example">
#+NAME: &lt;name&gt;
#+BEGIN_SRC &lt;language&gt; &lt;switches&gt; &lt;header arguments&gt;
   &lt;body&gt;
#+END_SRC
</pre>

<p>
The structure of an inline code block is
</p>

<pre class="example">
src_&lt;language&gt;[&lt;header arguments&gt;]{&lt;body&gt;}
</pre>

</section>
<section id="slide-org3cbf983">
<h4 id="org3cbf983">Basic settings</h4>
<pre class="example">
#+BEGIN_SRC emacs-lisp :eval no
  (org-babel-do-load-languages
   'org-babel-load-languages
     '((R . t)
       (python . t)
       (emacs-lisp . t)
       (calc . t)
       (latex . t)
       (org . t)
       (sh . t)))

    (setq org-confirm-babel-evaluate nil)
#+END_SRC
</pre>

</section>
<section id="slide-org78288f8">
<h4 id="org78288f8">Header arguments</h4>
<p>
Header arguments fine-tune the behaviors of source code blocks.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Header arguments</th>
<th scope="col" class="org-left">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">:exports</td>
<td class="org-left">:exports results or :exports none</td>
</tr>

<tr>
<td class="org-left">:results</td>
<td class="org-left">:results value table or :results silent</td>
</tr>

<tr>
<td class="org-left">:eval</td>
<td class="org-left">:eval no</td>
</tr>

<tr>
<td class="org-left">:cache</td>
<td class="org-left">:cache yes</td>
</tr>

<tr>
<td class="org-left">:file</td>
<td class="org-left">:file ./img/figure1.png</td>
</tr>
</tbody>
</table>

</section>
<section id="slide-orgc87c72d">
<h4 id="orgc87c72d">Results in raw format</h4>
<pre class="example">
#+BEGIN_SRC R :exports both :results output
library(ggplot2)
head(mpg[1:5])
#+END_SRC

#+RESULTS:
:   manufacturer model displ year cyl
: 1         audi    a4   1.8 1999   4
: 2         audi    a4   1.8 1999   4
: 3         audi    a4   2.0 2008   4
: 4         audi    a4   2.0 2008   4
: 5         audi    a4   2.8 1999   6
: 6         audi    a4   2.8 1999   6
</pre>


</section>
<section id="slide-org727d292">
<h4 id="org727d292">Results in org tables</h4>
<pre class="example">
#+BEGIN_SRC R :exports results :results value table :colnames yes :cache yes
head(mpg[1:5])
#+END_SRC

#+RESULTS[f45a5d1174dd12cdb343701a0868203eda23a5bc]:
| manufacturer | model | displ | year | cyl |
|--------------+-------+-------+------+-----|
| audi         | a4    |   1.8 | 1999 |   4 |
| audi         | a4    |   1.8 | 1999 |   4 |
| audi         | a4    |     2 | 2008 |   4 |
| audi         | a4    |     2 | 2008 |   4 |
| audi         | a4    |   2.8 | 1999 |   6 |
| audi         | a4    |   2.8 | 1999 |   6 |
</pre>

</section>
<section id="slide-org87fc9b2">
<h4 id="org87fc9b2">Results in figures</h4>
<pre class="example">
#+BEGIN_SRC R :exports both :results output graphics :file mpg.png
  ggplot(mpg, aes(displ, cty, colour = class)) +
      geom_point()
#+END_SRC

#+ATTR_HTML: :width 600 :height 500
#+ATTR_LATEX: :width 0.6\textwidth :height 0.6\textheight
#+RESULTS:
[[file:figure/mpg.png]]
</pre>

</section>
<section id="slide-orge9e4c7f">
<h4 id="orge9e4c7f">The figure generated</h4>

<div class="figure">
<p><img src="figure/mpg.png" alt="mpg.png" width="600" height="500" />
</p>
<p><span class="figure-number">Figure 10: </span>The Scatterplot Between the Engine Displacement and City MPG</p>
</div>

</section>
<section id="slide-org396b60e">
<h4 id="org396b60e">Results in latex</h4>
<pre class="example">
#+BEGIN_SRC R :exports both :results output latex
library(stargazer)
stargazer(mpg, header = FALSE)
#+END_SRC

#+RESULTS:
#+BEGIN_EXPORT latex

% Table created by stargazer v.5.2 by Marek Hlavac, Harvard University. E-mail: hlavac at fas.harvard.edu
% Date and time: Mon, Feb 06, 2017 - 09:45:31
\begin{table}[!htbp] \centering
  \caption{}
  \label{}
\begin{tabular}{@{\extracolsep{5pt}}lccccc}
\\[-1.8ex]\hline
\hline \\[-1.8ex]
Statistic &amp; \multicolumn{1}{c}{N} &amp; \multicolumn{1}{c}{Mean} &amp; \multicolumn{1}{c}{St. Dev.} &amp; \multicolumn{1}{c}{Min} &amp; \multicolumn{1}{c}{Max} \\
\hline \\[-1.8ex]
displ &amp; 234 &amp; 3.472 &amp; 1.292 &amp; 1.600 &amp; 7.000 \\
year &amp; 234 &amp; 2,003.500 &amp; 4.510 &amp; 1,999 &amp; 2,008 \\
cyl &amp; 234 &amp; 5.889 &amp; 1.612 &amp; 4 &amp; 8 \\
cty &amp; 234 &amp; 16.859 &amp; 4.256 &amp; 9 &amp; 35 \\
hwy &amp; 234 &amp; 23.440 &amp; 5.955 &amp; 12 &amp; 44 \\
\hline \\[-1.8ex]
\end{tabular}
\end{table}
#+END_EXPORT
</pre>

</section>
<section id="slide-org1d05a50">
<h4 id="org1d05a50">The LaTeX table generated</h4>

</section>
<section id="slide-org2e525c1">
<h4 id="org2e525c1">An mini example of literate programming</h4>
<p>
The following file is an example of reproducible research, which I
used in teaching Econometrics.
</p>

<p>
<a href="example/replicate_ch7.html">example/replicate_ch7.html</a>
</p>


</section>
</section>
<section>
<section id="slide-orgdd23cb9">
<h3 id="orgdd23cb9">Tutorial sources</h3>
<dl>
<dt>John Kitchin's blog</dt><dd><a href="http://kitchingroup.cheme.cmu.edu/blog/2014/08/08/What-we-are-using-org-mode-for/">http://kitchingroup.cheme.cmu.edu/blog/2014/08/08/What-we-are-using-org-mode-for/</a></dd>

<dt>John Kitchin's presentation on YouTube</dt><dd><a href="https://www.youtube.com/watch?v=1-dUkyn_fZA&amp;t=126s">https://www.youtube.com/watch?v=1-dUkyn_fZA&amp;t=126s</a></dd>

<dt>Vikas Rawal's tutorial</dt><dd><a href="https://github.com/vikasrawal/orgpaper/blob/master/orgpapers.org">https://github.com/vikasrawal/orgpaper/blob/master/orgpapers.org</a></dd>

</dl>
</section>
</section>
</div>
</div>
<script src="./web/reveal.js/lib/js/head.min.js"></script>
<script src="./web/reveal.js/js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: false,
center: true,
slideNumber: 'c',
rollingLinks: true,
keyboard: true,
overview: true,
width: 1000,
height: 800,
margin: 0.20,
minScale: 0.50,
maxScale: 2.50,

theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none
transitionSpeed: 'default',
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
{ src: './web/reveal.js/plugin/menu/menu.js' },
 { src: './web/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
 { src: './web/reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: './web/reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } }]
});
</script>
</body>
</html>
